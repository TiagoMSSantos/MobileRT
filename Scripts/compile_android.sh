###############################################################################
# Get arguments
###############################################################################
type="${1:-Release}"
ndk_version="${2:-21.0.6113669}"
cmake_version="${3:-3.6.0}"
###############################################################################
###############################################################################


###############################################################################
# Compile for Android
###############################################################################
output="$(./gradlew assemble${type} \
  -DndkVersion="${ndk_version}" -DcmakeVersion="${cmake_version}")";
resCompile=$?
echo -e "output = ${output}"
###############################################################################
###############################################################################


###############################################################################
# Exit code
###############################################################################
echo "########################################################################"
echo "Results:"
if [ $resCompile -eq 0 ]; then
  echo "Compilation: success"
else
  echo "Compilation: failed"
  exit $resCompile
fi
###############################################################################
###############################################################################
